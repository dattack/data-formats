#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#    http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
language: java
jdk:
- openjdk8
dist: bionic
notifications:
  email:
    recipients:
    - dev@dattack.com
    on_success: always
    on_failure: always
  slack:
    secure: Ow2kNNMMefF905Z2Fy1/dZdCu5gC8xZ0bkiE3GjN5Ib3lcA3xpeerglg+3rey5N2FQLwN6/dkatzqu/pyM+MjAAtDGrbBYBNZ2n2n4/ckpnetpgTob+dKXcN7s/I/7eLnQ+eeOh1LP5ww3c6q2v1ofrTZwb5qH4Q5KjpMwuid7O01lBsX+QwOsPQdDLjLhndgzTi+uktgFoLO9uax65JrVHsqDy3orARX7/boVBtO9MuEf5BWFPI2oEOSPK2lWXx9FadezWJyHb3Iigrk10D2uVMXZh4GWuRSX7CjIp5UjU546f10WdBNPG811wHlygSEfCHaLKNQYPCzpQvXWJdfiRBJQ1ZHW5pceyZxgsFXKrxIedQrE3calVl/6bGThBF4RiqQ+Ar7R8N5JOV3T0qVMZ2crg7HJOphxAuS1t18ZzLX9XFQHugmrq2nJeKB3EwqFfgDS8eyRmGM1xJIz7b+pnzspSvhR7e5BCLxOYf7rKq8kDDxWwd7kcbfHTz6j/jvuj8zQoXrQnUbbC9IkGefg11vVdFQhYiMeaZSYF1hleDoR/7P7N9I/Q0DldIDC/2EBywTeTj4cVreFKp9Hydgk90gAtHHp0tetKN4SRNl1SsovZxz0NZnwxc/YtbDuNOmsKxsJ7kFuqXZLnS7JTkH5K7Ra4C1BkS5/ddoBtt2PE=
cache:
  directories:
  - "~/.m2/repository"
env:
  global:
  - secure: rDhnWgkpYqJPbrldUQ9zWDlMizZULNOnboYhRWHYN8mvgMSot6cB75hu3k7E2D5MhvYH+8gMSLkGWmMqk2JdmlaGMoy8W/iUSjUf2QXEGOUbcLRmy7X3aTgLi20ctdr7BFqw6H67pAjxenefqxPr5gJ3FWQ6DCLCfOpSi1RxJYNM7AdX2pFqYnd0FNHpwx/WD3kw31E2HvRBYoe45oQp5F8tu3hY1+NncyEcVlDpugCJltHhyYjimv4ZQAMGvuNfm7f0D0C9/l2rktxQ84N2ouMB+MYNTV1OmlRJeB4XhQOi2cSvboOdesb85Eu1n7+gLBZdYJ49DLuPkFVqw2O5v5Nw339cqVO8jR2JTcZfIq1mHoP09Oax4BoM1hKzvetdapSXiFUjW1096U/iFOHU00aoxW3HbKfXrGaL8JZyuJCkjfdAUGkhCj8cbNY0vTqR1bvyZ8u8g3r7IGYw0olxzF2kqOUByJ4OtvObcdaVJ+ZZAfsCQiNk4NAC6Ki0fvx8PuA3h1rX95ptGmff7FMjv8SlwkM1J1F8wKijAU4HfSylCdCMOYcqAuNyoaSLMDe/YOvJWMHyXzMJZHaHUUtY9X1bv2xHpVGVhQmkp9x+yvSk6rucaB5MuiRdcqkdrCytCjto/OoyqcOvhWZsfd/trSiDHIdOjF+uLZsVlepi8T0=
  - secure: Ud8ftC7P2qIvNIdWqECAYNISN6L1eN5X9n1QtSQOeUhbEat61/d0T9MRG/a1uDChyOHzC2J10AwkziAVmiGLzKgD1zXMnkv7sNGCvROjAynlb1zc03I6XBx/3OUMHaGeDrnFzynbciTYI4rUGxw0XtxFuX/sjtRp7QlXh0sL1jmHGnYkXrcSd+kbC4DK2jt55DN7Zq0V/VSpG7EbEIh6XFU8CkLV3Z3WiGqnkcJ1Fn8x9ZNGRll13UnQVFT85JjiD2DhJcbqr44qP0zD57R67Uyo0eCXa4hBqmX5UgxWNZ2lpfkfqhKSO0W7OYxuRKNIRbF1Ksly6rvajXsQkNEw2mfC65Pe/ZxS2+2HRGLxCrpOl+KYXfmBW+9fFeI0gRGHi9xBuhBSG5XAnOgMovbf6j/Dm9dquOv34eft8uL078DroSHVGehTTIhmfVpbJYbL9pkhT5GxrGWToxVppMUvz6fhpq6p0LwTzDtnX9LWkAYm+521PKMLhqB5IrjDIsB6egM+8s3aR3OyXoRg366KwIJANxK8Dp+uZT9QyfBni72rtML+j8OuJcSJS9k9qe50zHYRYWfG2HQ6LHVuKMzD3osVjz+OpkXhBkKlTMCxJg1qYLndc02EAgtS1fUb/Mim+6OZt+B9wfTG27kGUb8FwB3YaN6MirZFss5HJIWxQhw=
  - secure: 2xUAPcEVIXgIPyVyS0CuLLjJ+KpzZ9b3QflSusSLxXmEBmi3UhqXxNwObeS24NBoqqbIYlwsyKEuJLOFshnG7sAJXgTvmhXQMWpIy81Z99hzKOm7LD7qu3OO3a+U5YSQfxKSiH7GYBy08kSwtWer6v7KfA0I6S8kM0Tf/5UUfrKqhOibLRL2S5HtOu3qMqCe2KO+pniVvMQBk4XTozzy20oWlpbwmrAPb4EsERZYXFJIT6IFxTJcheyRgvHl4fOqJZXoPzeWCPdHIauSwb3UPheIUiasxEdx6kIor71rjnKzwMFseGlO/zMz/4EETkmcMZNYEKh+Unrs5B2K39UUp4Fow6W4s3FxtjD0j/kWk1Y9WjEibPnrKewpnQTTYmtXNgIZ/25YpErmx1QioLpYckjY4YVLp2rWuSsVJMYJ9B4snErHEi5/rMlETKL5BmfCYw8169vhVOq8fT2XCUWOTpqs3f2lMa5Z9RM85Uj8DGCEzt2wNSIovQrEjFQQYY3l9XJkP8ZApTw1k3Kv7Xgo//9hrXnebkWO63QiJDL3fQe6CBzY1VhRpSPqb+wdvWQ0QeCjBfF/XDoOanzOiZBxrifqYXN3OsaPVRo43+ocoWKQ6wMI5Z4I1RfwXCwNc/crQ9JPAN9yELxn/ukNSXrmgl0CVtko5Mj3JEXqu7RWhUc=
  - secure: RF5A85nngcOj0kkRpbZyGtgbOJtikBYIWaJvGrGlCevGOKc4X/q6BWonCvSSvI4JloYuPDoDuVVrOKSroWy6ahHtUNs81x3JMP34ZpUTRiKsenFVuLocJl2G+CY2TgtX9NlY2jNPvROezh9DAAxP4I7EcalisQNhDswWhS+Fpx3Ca7Dkr05+otvqzbplMi+bNPPf/zb849z2By/gABwIstJxUwVLnGb/6/MP+Pz96VnpxeIIpkchpiYOLvmrSlTr0qLIN6Nwut27ij62PWkwhvfW1FKaWWwQf/Tqqkned4W1p2A2ZQStXBzZQaPuqbbbElAFcunHnSHSmZArYRM3x/rMq5/Bz85hf2e7qte42XzfZRP9pq2N84ECo+lUAhGD471Px7oNSep4GZEDuofyzDovulfKB+jWW4NFE7B3KkAu9CafhI4gRi58O3gG9N8EuoAZf/cxRpjk6S2ZiM+ZHh1ka4+snnxenCR1h3arfrfPLRp9un7xn75yvsaHfGMbrVrTXb9o7OPyNcPfKsAsQcju7wnl9Nt86RqKxEcvtuW4mur5KsnVgim8IQzZZx8LJ5QhTTqAUMEP1EPZ+OwIhqwMCGF4D/VggheiLh9CWZkrPAVkdOZte0vXz4hC4kk5YIwk9ALggrfG6Y5eqhrw0MPvU3vd1siDe3i0rZCDKOw=
install: mvn -P !build-extras install -DskipTests=true -Dmaven.javadoc.skip=true -B -V
script: mvn -P !build-extras test -B
before_install:
- openssl aes-256-cbc -K $encrypted_711e5bbf5b76_key -iv $encrypted_711e5bbf5b76_iv
  -in .travis/codesigning.asc.enc -out .travis/codesigning.asc -d
- gpg --batch --fast-import .travis/codesigning.asc
deploy:
  skip_cleanup: true
  provider: script
  script: mvn -P sign,build-extras -s .travis/settings.xml deploy -DskipTests
  on:
    all_branches: true
    condition: "$TRAVIS_BRANCH =~ ^(master|develop)$"
